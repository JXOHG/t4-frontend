import React from "react";
import Nav from '../../components/Nav';
import Footer from '../../components/Footer';
import Sponsor from '../../components/Sponsor';
import './Sponsors.css';
import sponsorData from '../../../data/SponsorData.json';

function Sponsors() {
    const [scrollY, setScrollY] = React.useState(0);
    
    React.useEffect(() => {
        const handleScroll = () => setScrollY(window.scrollY);
        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
    }, []);

    return (
        <>
            {/* Hero Section */}
            <div className="sponsors-hero">
                <div className="contents relative z-10">
                    <Nav/>
                </div>
                <div
                    className="sponsors-hero-background"
                    style={{ backgroundPositionY: `${scrollY * 0.3}px` }}
                ></div>
                <div className="sponsors-hero-content">
                    <div>
                        <h1 className="sponsors-hero-title">Our Sponsors</h1>
                        <p className="sponsors-hero-description">
                            Our sponsors empower us to deliver our events and fulfill our mission to 
                            equip students with the social skillset they need to excel as professionals.
                            We are truly grateful for their support and collaborative efforts.
                        </p>
                    </div>
                </div>
            </div>

            <div className="sponsors-page-container">
                {sponsorData.sponsors.map(sponsor => (
                    <Sponsor
                        key={sponsor.id}
                        logoFileName={sponsor.logoFileName}
                        name={sponsor.name}
                        description={sponsor.description}
                        link={sponsor.link}
                    />
                ))}
            </div>
            
            <Footer />
        </>
    );
}

export default Sponsors;